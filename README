# YouTrack Dashboard

A modern web-based dashboard for YouTrack issue tracking, built with Vite, React, TypeScript, shadcn/ui, and Recharts.

## Features

- üìä Interactive charts showing completed tasks over time
- üìà Issue distribution by status visualization
- üìã Filterable issue list with search capabilities
- üé® Modern UI using shadcn/ui components
- üîê Secure API authentication with environment variables
- üîß **Demo mode with mock data** - Works out of the box without API credentials

## Setup

### Prerequisites

- Node.js 20.19+ or 22.12+
- YouTrack account with API access

### Installation

1. Clone the repository
2. Install dependencies:
   ```bash
   npm install
   ```

3. Configure environment variables:
   - Copy `.env.example` to `.env`
   - Update with your YouTrack credentials:
     ```env
     VITE_YOUTRACK_URL=https://your-instance.youtrack.cloud
     VITE_YOUTRACK_TOKEN=perm:your-token-here
     VITE_YOUTRACK_PROJECT_ID=YOUR-PROJECT
     ```

### Getting YouTrack Credentials

1. **YouTrack URL**: Your instance URL (e.g., `company.youtrack.cloud`)
2. **API Token**:
   - Go to YouTrack profile ‚Üí Authentication tab
   - Click "New token"
   - Set scope to "YouTrack"
   - Copy token (starts with `perm:`)
3. **Project ID**: Short identifier from project settings (e.g., "SP" for issues like SP-123)

## Development

Start the development server:
```bash
npm run dev
```

Access at: http://localhost:5173

### Demo Mode

The dashboard includes **mock data** for testing without valid YouTrack credentials. When you first run the application with default `.env` values, you'll see:

- üîß A blue banner indicating "Demo Mode"
- 10 sample issues with realistic data
- Functional charts showing completed tasks over time
- Working filters and search functionality

This allows you to explore the dashboard immediately without setting up YouTrack API access.

**To switch to real data:**
1. Update [.env](.env) with your actual YouTrack credentials
2. Refresh the page
3. The demo banner will disappear and real data will load

## Build

Build for production:
```bash
npm run build
```

Preview production build:
```bash
npm run preview
```

## Docker Deployment

The dashboard can be deployed using Docker for easy containerization and deployment.

### Quick Start with Docker Compose

1. **Configure environment variables**:
   Create a `.env` file or export variables:
   ```bash
   export VITE_YOUTRACK_URL=http://localhost:8080
   export VITE_YOUTRACK_TOKEN=perm:your-token-here
   export VITE_YOUTRACK_PROJECT_ID=YOUR-PROJECT
   ```

2. **Build and run**:
   ```bash
   docker-compose up -d
   ```

3. **Access the dashboard**:
   Open http://localhost:3000

### Docker Build Only

Build the Docker image:
```bash
docker build -t youtrack-dashboard .
```

Run the container:
```bash
docker run -d \
  --name youtrack-dashboard \
  -p 3000:80 \
  -v $(pwd)/public/dashboard-settings.json:/usr/share/nginx/html/dashboard-settings.json:ro \
  youtrack-dashboard
```

### Configuration

**Environment Variables** (set during build):
- `VITE_YOUTRACK_URL` - YouTrack instance URL (leave empty to use Vite proxy)
- `VITE_YOUTRACK_TOKEN` - YouTrack API token
- `VITE_YOUTRACK_PROJECT_ID` - Project ID

**Runtime Configuration**:
- Edit `public/dashboard-settings.json` to change dashboard title, subtitle, and available filters
- Changes take effect on browser refresh (no rebuild needed)
- When using Docker, mount the file as a volume to update without rebuilding

**Nginx Proxy** (optional):
- Uncomment the API proxy section in `nginx.conf` to proxy requests through nginx
- Useful when YouTrack is in the same Docker network

### Docker Compose Services

The `docker-compose.yml` includes:
- **youtrack-dashboard** - The dashboard application (port 3000)
- **youtrack** (commented) - Optional YouTrack server container

To run both services:
```bash
# Uncomment the youtrack service in docker-compose.yml
docker-compose up -d
```

### Health Checks

The container includes health checks that verify the application is responding:
```bash
docker ps  # Check health status
docker logs youtrack-dashboard  # View logs
```

### Production Considerations

1. **HTTPS**: Use a reverse proxy (nginx, Traefik, etc.) for SSL/TLS
2. **Secrets**: Use Docker secrets or environment files for sensitive data
3. **Networking**: Place in a dedicated Docker network with YouTrack
4. **Volumes**: Mount settings file for runtime configuration
5. **Updates**: Rebuild image when updating dependencies or code

## Configuration

### Dashboard Settings

Edit `public/dashboard-settings.json` to customize:

```json
{
  "dashboard": {
    "title": "Your Custom Title",
    "subtitle": "Your Custom Subtitle"
  },
  "globalFilters": {
    "enabled": true,
    "availableFields": [
      {
        "name": "Type",
        "label": "Issue Type",
        "enabled": true
      }
    ],
    "defaultField": ""
  },
  "charts": {
    "matrix": {
      "defaultXField": "State",
      "defaultYField": "Priority"
    }
  }
}
```

Changes take effect on page refresh without rebuilding.

## Tech Stack

- **Framework**: Vite + React + TypeScript
- **UI**: shadcn/ui + Tailwind CSS
- **Charts**: Recharts
- **API Client**: Axios
- **Validation**: Zod
- **Deployment**: Docker + nginx

